{"componentChunkName":"component---src-templates-blog-post-js","path":"/typora-aliyunoss/","result":{"data":{"site":{"siteMetadata":{"title":"Deathdealer's Blog"}},"markdownRemark":{"id":"699e06f3-0815-5269-a037-364d1450530b","excerpt":"Picgo部分 Picgo是一个很不错的文件上传工具，支持很多图床：阿里云OSS、腾读云COS、Github、又拍云、七牛云等 picgo和Picgo-Core可以认为是同一个东西，只有命令行 Picgo是用包装后带图形界面的picgo 因为我只是写BLOG需要上传图片，没必要再装个有界面的picgo…","html":"<h4>Picgo部分</h4>\n<p>Picgo是一个很不错的文件上传工具，支持很多图床：阿里云OSS、腾读云COS、Github、又拍云、七牛云等</p>\n<blockquote>\n<p>picgo和Picgo-Core可以认为是同一个东西，只有命令行</p>\n<p>Picgo是用<code class=\"language-text\">electron</code>包装后带图形界面的picgo</p>\n</blockquote>\n<p>因为我只是写BLOG需要上传图片，没必要再装个有界面的picgo，所以选择命令行形式的picgo</p>\n<ul>\n<li>\n<p>全局安装picgo</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># NPM</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g picgo\n<span class=\"token comment\"># Yarn </span>\n<span class=\"token function\">yarn</span> global <span class=\"token function\">add</span> picgo</code></pre></div>\n<p>验证一下：</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">picgo --version\n<span class=\"token comment\"># 1.4.19</span>\n<span class=\"token function\">which</span> picgo <span class=\"token comment\"># 查看一下picgo装在哪里，后面会用到</span>\n<span class=\"token comment\"># /Users/deathdealer/.nvm/versions/node/v15.14.0/bin/picgo</span></code></pre></div>\n</li>\n<li>\n<p>生成picgo配置文件</p>\n<p>picgo的配置文件是<code class=\"language-text\">~/.picgo/config.json</code>，可以自己创建也可以用交互式命令行<code class=\"language-text\">picgo set uploader</code>自动生成，推荐用后者生成，然后根据需要修改</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ picgo <span class=\"token builtin class-name\">set</span> uploader\n? Choose a<span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span> uploader aliyun  <span class=\"token comment\"># 选择图床</span>\n? accessKeyId: xxxxxxxxxxxxxxxxx  <span class=\"token comment\"># AccessKey ID</span>\n? accessKeySecret: xxxxxxxxxxxxxxxxx <span class=\"token comment\"># AccessKey Secret</span>\n? bucket: obs-deathdealer  <span class=\"token comment\"># 桶名</span>\n? area: oss-cn-hangzhou <span class=\"token comment\"># oss所在region</span>\n? path: images/  <span class=\"token comment\"># 自定义桶内文件夹，</span>\n? customUrl:     <span class=\"token comment\"># 自定义域名，默认是阿里云的域名</span>\n? options:       <span class=\"token comment\"># 选项，一般不需要指定</span>\n<span class=\"token punctuation\">[</span>PicGo SUCCESS<span class=\"token punctuation\">]</span>: Configure config successfully<span class=\"token operator\">!</span></code></pre></div>\n</li>\n</ul>\n<p>至此<code class=\"language-text\">picgo</code>配置完成，其它图床选项各不相同，可以根据提示输入或参考：<a href=\"https://picgo.github.io/PicGo-Core-Doc/zh/guide/config.html#picbed\">picgo配置</a></p>\n<h4>Typora部分</h4>\n<p>打开Typora的配置窗口：<code class=\"language-text\">偏好设置</code>、<code class=\"language-text\">图像</code>。将<code class=\"language-text\">插入图片时...</code>设置为<code class=\"language-text\">上传图片</code></p>\n<img src=\"https://obs-1d2f.oss-cn-hangzhou.aliyuncs.com/images/image-20210423163151924.png\" alt=\"image-20210423163151924\" style=\"zoom:45%;\">\n<p>然后在<code class=\"language-text\">上传服务设定</code>中选择<code class=\"language-text\">Custom command</code>，在下面的<code class=\"language-text\">命令</code>中填入：<code class=\"language-text\">$node_path $picgo_path upload</code></p>\n<p><code class=\"language-text\">$node_path</code>是node所在的路径，可以用<code class=\"language-text\">which node</code>获得，<code class=\"language-text\">$picgo_path</code>是picgo所在路径，可以通过<code class=\"language-text\">which picgo</code>获得，填完后点击<code class=\"language-text\">验证图片上传选项</code>按钮，如果配置没问题，会提示验证成功。</p>\n<h4>效果</h4>\n<p>经过以上两步配置之后，在typora写文档时，如果粘贴图片进来，会自动把文件上传到图床上，然后把markdown中图片的<code class=\"language-text\">src</code>替换为图床生成的URL，这样无论在哪里都可以访问到这个图片了，并且可以永久保存。</p>","frontmatter":{"title":"picgo在typora中的配置与使用","date":"2021/04/23 16:50:32","description":"使用阿里云OSS作为typora的图床，配置好picgo后自动上传粘贴到typora中的图片"}},"previous":{"fields":{"slug":"/svelte/svelte-3/"},"frontmatter":{"title":"Svelte学习笔记（3）"}},"next":{"fields":{"slug":"/git/git-often-used-cmd/"},"frontmatter":{"title":"常用Git命令速查（1）- 基本操作"}}},"pageContext":{"id":"699e06f3-0815-5269-a037-364d1450530b","previousPostId":"98bfced2-3352-506a-9c8f-1aed30fb5f50","nextPostId":"28e1c45c-5436-54de-9fcc-0cfbcbebe8ef"}},"staticQueryHashes":["2355076697","2841359383"]}